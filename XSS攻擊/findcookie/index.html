<html>
    <head><meta charset="utf-8">
        <title>是個需要登入的網站</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <style>
            .content span, .content input, .content button {
                float: left;
            }
            .search {
                float: right;
            }
            #whatyousearch {
                float: left;
            }
            .clear {
                clear: both;
            }
        </style>
    </head>
    <body>
        <div class="content" id="content">
            <span>賬號：</span><input id="acc" placeholder="賬號">
            <span>密碼：</span><input id="pwd" type="password" placeholder="密碼">
            <input type="checkbox" id="r" name="r"><span>記住登入資訊。</span>
            <button onclick="login()">登入</button>
        </div>
        <div class="search">
            <span>無用搜尋：</span>
            <input id="search" placeholder="Type what ever you want.">
            <button onclick="show()">搜尋</button>
        </div>
        <div class="clear"></div>
        <div id="whatyousearch"></div>
        <div class="clear"></div>
        <script>
            function login() {
                var account = document.getElementById("acc").value;
                var passwd = document.getElementById("pwd").value;
                var rem = document.getElementById("r").checked;
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200) {
                        $("#content").html(this.responseText);
                    }
                };
                xmlhttp.open("POST", "login.php", true);
                xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                xmlhttp.send("account=" + account + "&passwd=" + passwd + "&rem=" + rem);
            }
            function logout() {
                setCookie("name","");
                setCookie("passed","");
            }
            function show() { //顯示無用搜尋裏面的東西
                document.getElementById("whatyousearch").innerHTML = document.getElementById("search").value;
            }
            function setCookie(cname, cvalue) {
                document.cookie = cname + "=" + cvalue + ";";
            }
            function getcookie(cname) {
                var name = cname + "=";
                var ca = document.cookie.split(';');
                for(var i = 0; i < ca.length; i++) {
                    var c = ca[i];
                    while (c.charAt(0) == ' ') {
                        c = c.substring(1);
                    }
                    if (c.indexOf(name) == 0) {
                        return c.substring(name.length, c.length);
                    }
                }
                return "";
            }
            var name = getcookie("name");
            var pass = getcookie("passwd");
            if (name && pass) { //no one does that, it's too easy to access it.
                document.getElementById("acc").value = name;
                document.getElementById("pwd").value = pass;
                login();
            }
        </script>
    </body>
</html>